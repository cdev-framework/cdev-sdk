{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "dynamodb.schema.json",
    "type": "object",
    "reference_name": "BACKEND_DYNAMODB",
    "definitions": {
        "AttributeType": {
          "type": "string",
          "enum": ["S", "N", "B"]
        },
        "KeyType": {
            "type": "string",
            "enum": ["HASH", "RANGE"]
        }, 
        "KeySchemaElement": {
            "type": "object",
            "required": ["AttributeName", "KeyType"],
            "properties": {
                "AttributeName": { "type": "string" },
                "KeyType": { "$ref": "#/definitions/KeyType" }
            }
        },
        "AttributeDefinitionsElements": {
            "type": "object",
            "required": ["AttributeName", "AttributeType"],
            "properties": {
                "AttributeName": { "type": "string" },
                "AttributeType": { "$ref": "#/definitions/AttributeType" }
            }
        }
    },
    "required": [
        "resource",
        "AttributeDefinitions",
        "TableName",
        "KeySchema"
    ],
    "properties": {
        "resource": {
            "$id": "#/properties/resource",
            "$ref": "../resource.schema.json",
            "type": "object"
        },
        "TableName": {
            "$id": "#/properties/TableName",
            "type": "string"
        },
        "AttributeDefinitions": {
            "$id": "#/properties/AttributeDefinitions",
            "type": "array",
            "items": {
                "$ref": "#/definitions/AttributeDefinitionsElements"
            }
        },
        "KeySchema": {
            "$id": "#/properties/runtime",
            "type": "array",
            "items": {
                "$ref": "#/definitions/KeySchemaElement"
            }
        }
    }
}