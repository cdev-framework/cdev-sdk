{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "lambda_update_function_configuration.schema.json",
    "type": "object",
    "reference_name": "BACKEND_LAMBDA_UPDATE_FUNCTION_CONFIGURATION",
    "required": [
        "info",
        "FunctionName",
        "UpdateValues"
    ],
    "definitions": {
    },
    "properties": {
        "info": {"ref": "../resource.schema.json#/definitions/HistoryElement"},
        "FunctionName": {
            "type": "string"
        },
        "RevisionId": {
            "type": "string"
        },
        "UpdateValues": {
            "type": "array",
            "items": {
                "anyOf": [
                {
                    "type": "object",
                    "properties": {
                        "name": {"enum": ["Role", "Handler", "Description"]},
                        "value": {"type": "string"}
                    }
                },
                {
                    "type": "object",
                    "properties": {
                        "name": {"const": "Timeout"},
                        "value": {
                            "type": "integer", 
                            "minimum": 1, 
                            "maximum": 300
                        }
                    }
                },   
                {
                    "type": "object",
                    "properties": {
                        "name": {"const": "MemorySize"},
                        "value": {
                            "type": "integer", 
                            "minimum": 1, 
                            "maximum": 1024
                        }
                    }
                },
                {
                    "type": "object",
                    "properties": {
                        "name": {"const": "Environment"},
                        "value": {
                            "type": "object"
                        }
                    }
                },
                {
                    "type": "object",
                    "properties": {
                        "name": {"const": "Runtime"},
                        "value": {"$ref": "./lambda_function.schema.json#/properties/Runtime"}
                    }
                },
                {
                    "type": "object",
                    "properties": {
                        "name": {"const": "Layers"},
                        "value": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                }
                ]
            }
        }

    },

    "additionalProperties": true
}